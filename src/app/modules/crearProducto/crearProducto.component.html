<div >
   <ngx-spinner bdColor = "rgba(0, 0, 0, 0.8)" size = "medium" color = "#fff" type = "ball-pulse-sync" [fullScreen] = "true">
      <p style="color: white" > Cargando... </p>
   </ngx-spinner>
   <div >
      <div class="title"  mat-dialog-title>
         <label>PRODUCTOS</label>
      </div>
      <div mat-dialog-content>
         <br>
         <div >
            <form [formGroup]="form" enctype="multipart/form-data">
               <div >
                  <div style="color:red">{{message}}</div>
                  <fieldset>
                     <div class="row">
                        <p>
                           <mat-form-field appearance="outline"  style="width: 100%;" required>
                              <mat-label>Codigo de barra</mat-label>
                              <input
                                 id="codigoBarra"
                                 formControlName="codigoBarra"
                                 type="text"
                                 matInput
                                 autocomplete="off"
                                 placeholder="escribelo o escanealo"
                                 />
                           </mat-form-field>
                        </p>
                     </div>
                     
                     <div class="row">
                       
                        <div class="col-sm-6">
                           <p>
                              <mat-form-field appearance="outline" style="width: 100%;">
                                 <mat-label>Nombre de la categoria</mat-label>
                                 <input
                                   matInput
                                   formControlName="nombreCategoriaP"
                                   placeholder="Escribe una categoria"
                                   [matAutocomplete]="auto"
                                   (input)="buscarCategorias()"
                                 />
                                 <mat-autocomplete #auto="matAutocomplete" (optionSelected)="buscarCategorias()">
                                   <mat-option *ngFor="let categoria of filteredCategorias" [value]="categoria">
                                     {{ categoria }}
                                   </mat-option>
                                 </mat-autocomplete>
                               </mat-form-field>
                           </p>
                          <!-- <p>
                              <mat-form-field appearance="outline"  style="width: 100%;" required>
                                 <mat-label>Nombre de la categoria</mat-label>
                                 <input
                                    id="nombreCategoriaP"
                                    formControlName="nombreCategoriaP"
                                    type="text"
                                    matInput
                                    autocomplete="off"
                                    placeholder="Categoria"
                                    />
                              </mat-form-field>
                           </p>-->

                        </div>
                        <div class="col-sm-6">
                           <p>
                              <mat-form-field appearance="outline" style="width: 100%;">
                                 <mat-label>Subcategoria</mat-label>
                                 <input
                                   matInput
                                   formControlName="nomsubcate"
                                   placeholder="Escribe una subCategoria"
                                   [matAutocomplete]="autoSubcategoria"
                                   (input)="buscarSubCategorias()"
                                 />
                                 <mat-autocomplete #autoSubcategoria="matAutocomplete" (optionSelected)="buscarSubCategorias()">
                                   <mat-option *ngFor="let subCategoria of filteredSubCategorias" [value]="subCategoria">
                                     {{ subCategoria }}
                                   </mat-option>
                                 </mat-autocomplete>
                               </mat-form-field>
                           </p>

                        </div>
                     </div>
                     <div class="row">
                        <div class="col-sm-6">
                           <p>
                              <mat-form-field appearance="outline"  style="width: 100%;" required>
                                 <mat-label>Precio de compra</mat-label>
                                 <input
                                    id="precioCompra"
                                    formControlName="precioCompra"
                                    type="text"
                                    matInput
                                    autocomplete="off"
                                    placeholder="precioCompra"
                                    />
                              </mat-form-field>
                           </p>
                        </div>
                        <div class="col-sm-6">
                           <p>
                              <mat-form-field appearance="outline"  style="width: 100%;" required>
                                 <mat-label>Detalle compra</mat-label>
                                 <input
                                    id="detalleCompra"
                                    formControlName="detalleCompra"
                                    type="text"
                                    matInput
                                    autocomplete="off"
                                    placeholder="detalleCompra"
                                    />
                              </mat-form-field>
                           </p>
                        </div>
                       
                     </div>
                     
                     <div class="row">
                        <div class="col-sm-6">
                           <p>

                              <mat-form-field appearance="outline" style="width: 100%;">
                                 <mat-label>Marca</mat-label>
                                 <input
                                   matInput
                                   formControlName="marcaP"
                                   placeholder="Escribe una marca"
                                   [matAutocomplete]="autoMarca"
                                   (input)="buscarMarca()"
                                 />
                                 <mat-autocomplete #autoMarca="matAutocomplete" (optionSelected)="buscarMarca()">
                                   <mat-option *ngFor="let marcas of filteredMarcas" [value]="marcas">
                                     {{ marcas }}
                                   </mat-option>
                                 </mat-autocomplete>
                               </mat-form-field>
                           </p>
                        </div>
                       
                        <div class="col-sm-6">
                           <p>
                              <mat-form-field 
                                 style="display: inline-block; width: 100%; height: 20px"
                                 required appearance="outline"
                                 >
                                 <mat-label>Descripción</mat-label>
                                 <textarea 
                                    class="textarea"
                                    matInput
                                    rows="4"
                                    placeholder="Descripción breve del producto"
                                    cols="50"
                                    style="display: inline-block; width: 100%; height: 100%"
                                    id="descripcion"
                                    formControlName="descripcion"
                                    >
                              </textarea>
                              </mat-form-field>
                           </p>
                        </div>
                     </div>
                  </fieldset>
               </div>
            </form>
         </div>
      </div>
      <div style="display: flex; justify-content: center;" mat-dialog-actions>
         <button mat-raised-button (click)="registrarProd()"  style="background-color: #fd9727; font-size: 20px; margin-top: 17px; height: 40px; margin-right: 50px;">Aceptar</button>
         <button mat-raised-button  (click)="cerrarDialogo()" style="background-color: #000000; font-size: 20px; margin-top: 17px; height: 40px;color: white;">Cancelar</button>
      </div>
   </div>
</div>